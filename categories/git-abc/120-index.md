# Index

리포지터리에 커밋하려는 파일은 먼저 인덱스에 등록해야 한다.
많은 파일을 수정했는데 일부만 커밋할 필요가 자주 발생하기 때문에 인덱스를 이용한 선별 커밋은 매우 유용하다.

파일을 새로 만들거나 수정할 때마다 인덱스에 추가하는 일은 매우 성가실 듯 한데
실전에선 GUI 나 IDE 가 수정한 파일들을 일괄등록하므로 걱정할 필요가 없다.
개념만 이해하고 실전에선 IDE 를 사용한다.

아래는 인덱스를 업데이트하는 명령들이다.
인덱스를 스테이징 영역으로, 인덱싱을 스테이징으로 칭하는 문서들도 많다.


### 인덱스에 파일 추가

커밋하려는 새 파일이나 커밋후 수정한 파일은 `git add` 명령으로 인덱스에 등록한다.

	$ git add readme.md

특정 서브 디렉토리의 전체를 인덱싱할 수 있다.

	$ git add src

프로젝트 디렉토리의 전체를 인덱싱할 수 있다.

	$ git add .


### 인덱싱 취소

인덱스를 리셋하여 파일 스테이징을 취소한다.

	$ git reset -- readme.md

인덱스 전체를 리셋한다.

	$ git reset


### 인덱스 확인

인덱스와 워킹 디렉토리의 상태를 확인할 수 있다.

	$ git status

인덱스에 등록된 파일 목록을 볼 수 있다.

	$ git ls-files -s


### 파일 삭제

워킹 디렉토리 파일을 삭제하면서 인덱스에도 삭제 명령을 스테이징한다.
다음 커밋 스냅샷에선 해당 파일이 제외된다.

	$ git rm tmp.txt

`git rm` 을 사용하지 않고 파일을 삭제한 경우 다음 명령으로 삭제 내역을 스테이징한다.
삭제된 파일뿐만 아니라 수정된 파일도 인덱스에 등록된다.

	$ git add -u
	

### 파일 이동

이렇게 할 수도 있고,

	$ mv foo.html bar.html
	$ git rm foo.html
	$ git add bar.html

다음 명령으로 간단히 할 수도 있다.

	$ git mv foo.html bar.html

